# NotebookLM to Anki Extension

This Chrome extension bridges the gap between Google NotebookLM and Anki. It automatically extracts multiple-choice quizzes generated by NotebookLM and exports them directly into Anki decks with a single click.

## üöÄ Key Features
* **One-Click Export:** Instantly pushes questions to Anki via AnkiConnect.
* **Smart Math Support:** Automatically detects and formats LaTeX equations (MathJax) for Physics and Calculus.
* **15-Field Support:** Captures Questions, Hints, Options, Rationales, and Correctness Flags separately.

---

## üåü The "Golden Rule" for Perfect Math
NotebookLM is an AI model. If you feed it messy data, you get messy quizzes. For the best results with **Mathematics and Physics**, follow this workflow:

### 1. Prepare Clean Source Data
Instead of uploading messy PDFs, copy your study material into a **Text File (`.txt`)** or **Markdown File (`.md`)**. 

Ensure math formulas are wrapped in standard LaTeX delimiters:
* **Block Math:** `$$...$$`
* **Inline Math:** `$ ... $`

**Example `source.txt`:**
> The time-dependent Schr√∂dinger equation is:
> $$i\hbar \frac{\partial}{\partial t} \Psi = \hat{H} \Psi$$
> The Lorentz factor is defined as $\gamma = \frac{1}{\sqrt{1 - v^2/c^2}}$.

### 2. Generate the Quiz
Upload your text file to NotebookLM and use this prompt:
> **"Generate a multiple-choice quiz based on this source. Ensure you use strict LaTeX formatting for all mathematical symbols and equations. Wrap block equations in double dollar signs ($$) and inline equations in single dollar signs ($)."**

---

## üõ†Ô∏è Installation & Setup

### Step 1: Install AnkiConnect
This extension needs to talk to your Anki desktop app.
1.  Open Anki.
2.  Go to **Tools** -> **Add-ons** -> **Get Add-ons**.
3.  Enter code: `2055492159`.
4.  Restart Anki.

### Step 2: Create the Note Type
You must create a specific Note Type in Anki for this extension to work.
1.  Open Anki -> **Tools** -> **Manage Note Types**.
2.  Click **Add** -> **Add: Basic** -> Name it **"NotebookLM Markdown"**.
3.  Click **Fields** and create exactly these 15 fields in this order:

    1.  `Question`
    2.  `Hint`
    3.  `ArchDiagram`
    4.  `Option1`
    5.  `Rationale1`
    6.  `Flag1`
    7.  `Option2`
    8.  `Flag2`
    9.  `Rationale2`
    10. `Option3`
    11. `Flag3`
    12. `Rationale3`
    13. `Option4`
    14. `Flag4`
    15. `Rationale4`

*(Note the slight difference in order for Option 1 vs others. This is intentional.)*

### Step 3: Load the Extension
1.  Clone or download this repository.
2.  Open Chrome and go to `chrome://extensions`.
3.  Enable **Developer Mode** (top right).
4.  Click **Load Unpacked** and select this folder.

---

## ‚ö†Ô∏è Troubleshooting

**"Error: Could not find quiz data"**
* **Fix:** Refresh the NotebookLM webpage. Sometimes the app cleans up the data source to save memory. Refreshing brings it back.

**Math looks like code (e.g., `$\pi$`) instead of symbols ($\pi$)**
* **Fix:** This is a template issue. Ensure you are using the provided Card Templates in the `anki_templates` folder, which include the specific script to render MathJax immediately.

